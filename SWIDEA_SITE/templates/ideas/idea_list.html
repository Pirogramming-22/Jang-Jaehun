{% extends 'base.html' %}

{% load static %}

{% block title %}아이디어 관리{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/list.css' %}">
{% endblock %}

{% block content %}
<section class="idea-list-header">
    <h1>Idea List</h1>
    <p>다양한 아이디어를 한 눈에 관리하고 기록하세요!</p>
</section>

<div class="sort-button">
    <select onchange="location.href=this.value">
        <option value="" {% if sort == None or sort == '' %}selected{% endif %}>--정렬기준--</option>
        <option value="?sort=popularity" {% if sort == 'popularity' %}selected{% endif %}>찜하기순</option>
        <option value="?sort=oldest" {% if sort == 'oldest' %}selected{% endif %}>등록순</option>
        <option value="?sort=name" {% if sort == 'name' %}selected{% endif %}>이름순</option>
        <option value="?sort=newest" {% if sort == 'newest' %}selected{% endif %}>최신순</option>
    </select>
</div>

<div class="idea-list">
    {% comment %} 아이디어 카드 {% endcomment %}
    {% for idea in ideas %}
    <div class="idea-card">      
      {% if idea.image != null and idea.image.url != "" %}
        <img src="{{ idea.image.url }}" alt="대체 텍스트" />     
      {% else %}
        <img src="{% static 'image/no_img.png' %}" alt="대체 텍스트" />     
      {% endif %}
      <div class="idea-content">
        <a class="title" href="{% url 'ideas:idea_detail' idea.pk %}">
        {% comment %} 타이틀 클릭 시 상세 페이지로 이동 {% endcomment %}
          {{idea.title}}
        </a>
        <hr />
        <p class="devtool">예상 개발 툴 : {{idea.devtool}}</p>
        <p class="interest">아이디어 관심도 : {{idea.interest}}</p>
      </div>
    </div>
    {% endfor %}
</div>

<!-- 페이지네이션 -->
<div class="pagination">
    <a href="?page=1">1</a>
    <a href="?page=2">2</a>
    <a href="?page=3">3</a>
</div>
{% endblock %}